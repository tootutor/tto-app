!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ramjet=e()}(this,function(){"use strict";function t(){document.body.appendChild(w),R=!0}function e(t){var n=t.cloneNode(),o=void 0,i=void 0,r=void 0;if(1===t.nodeType)for(o=window.getComputedStyle(t),g.forEach(function(t){n.style[t]=o[t]}),i=t.childNodes.length,r=0;i>r;r+=1)n.appendChild(e(t.childNodes[r]));return n}function n(t){var n=t.namespaceURI===b,o=t.getBoundingClientRect(),i=o.left,r=o.right,a=o.top,s=o.bottom,d=window.getComputedStyle(t),l=e(t),c={node:t,clone:l,isSvg:n,cx:(i+r)/2,cy:(a+s)/2,width:r-i,height:s-a,transform:null,borderRadius:null};if(n){var u=t.getScreenCTM();c.transform="matrix("+[u.a,u.b,u.c,u.d,u.e,u.f].join(",")+")",c.borderRadius=[0,0,0,0],w.appendChild(l)}else{var f=t.offsetParent,m=window.getComputedStyle(f),y=f.getBoundingClientRect();l.style.position="absolute",l.style.top=a-parseInt(d.marginTop,10)-(y.top-parseInt(m.marginTop,10))+"px",l.style.left=i-parseInt(d.marginLeft,10)-(y.left-parseInt(m.marginLeft,10))+"px",c.transform="",c.borderRadius=[parseFloat(d.borderTopLeftRadius),parseFloat(d.borderTopRightRadius),parseFloat(d.borderBottomRightRadius),parseFloat(d.borderBottomLeftRadius)],t.parentNode.appendChild(l)}return c}function o(t){t.__ramjetOriginalTransition__=t.style.transition,t.style.transition="",t.style.opacity=0}function i(t){t.style.transition="",t.style.opacity=1,t.__ramjetOriginalTransition__&&setTimeout(function(){t.style.transition=t.__ramjetOriginalTransition__})}function r(t,e,n,o,i,r,a,s){var d=t?"translate("+e+" "+n+") scale("+(1+s*r)+" "+(1+s*a)+") translate("+-e+" "+-n+") translate("+s*o+" "+s*i+")":"translate("+s*o+"px,"+s*i+"px) scale("+(1+s*r)+","+(1+s*a)+")";return d}function a(t,e,n,o,i){var r=1+i*n,a=1+i*o;return t.map(function(t,n){var o=e[n],s=(t+i*(o-t))/r,d=(t+i*(o-t))/a;return""+s+"px "+d+"px"})}function s(t){return t}function d(t){return Math.pow(t,3)}function l(t){return Math.pow(t-1,3)+1}function c(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){t.style.borderTopLeftRadius=e[0],t.style.borderTopRightRadius=e[1],t.style.borderBottomRightRadius=e[2],t.style.borderBottomLeftRadius=e[3]}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t){var e=document.createElement("style");e.type="text/css";var n=document.getElementsByTagName("head")[0],o=e.styleSheet;return o?o.cssText=t:e.innerHTML=t,n.appendChild(e),function(){return n.removeChild(e)}}function p(t,e,n){function o(n,o){var i=t.cx+r*o,s=t.cy+a*o,f=C(t.borderRadius,e.borderRadius,d,l,o),m=C(e.borderRadius,t.borderRadius,c,u,1-o),h=T(!1,i,s,r,a,d,l,o)+" "+t.transform,v=T(!1,i,s,-r,-a,c,u,1-o)+" "+e.transform;y.push("\n			"+n+"% {\n				opacity: "+(1-o)+";\n				border-top-left-radius: "+f[0]+";\n				border-top-right-radius: "+f[1]+";\n				border-bottom-right-radius: "+f[2]+";\n				border-bottom-left-radius: "+f[3]+";\n				"+j+": "+h+";\n			}"),p.push("\n			"+n+"% {\n				opacity: "+o+";\n				border-top-left-radius: "+m[0]+";\n				border-top-right-radius: "+m[1]+";\n				border-bottom-right-radius: "+m[2]+";\n				border-bottom-left-radius: "+m[3]+";\n				"+j+": "+v+";\n			}")}var i,r=e.cx-t.cx,a=e.cy-t.cy,d=e.width/t.width-1,l=e.height/t.height-1,c=t.width/e.width-1,u=t.height/e.height-1,f=n.easing||s,m=n.duration/50,y=[],p=[];for(i=0;m>i;i+=1){var h=100*(i/m),v=f(i/m);o(h,v)}return o(100,1),y=y.join("\n"),p=p.join("\n"),{fromKeyframes:y,toKeyframes:p}}var h=["length","parentRule"],v=void 0;v="undefined"!=typeof CSS2Properties?Object.keys(CSS2Properties.prototype):Object.keys(document.createElement("div").style).filter(function(t){return!~h.indexOf(t)});var g=v,b="http://www.w3.org/2000/svg",w=document.createElementNS(b,"svg");w.style.position="fixed",w.style.top=w.style.left="0",w.style.width=w.style.height="100%",w.style.overflow="visible",w.style.pointerEvents="none",w.setAttribute("class","mogrify-svg");var R=!1,T=r,C=a,x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)},S=x,k=function(t,e,n){function o(){var s=Date.now(),u=s-m;if(u>y)return t.clone.parentNode.removeChild(t.clone),e.clone.parentNode.removeChild(e.clone),void(n.done&&n.done());var h=p(u/y);t.clone.style.opacity=1-h,e.clone.style.opacity=h;var v=C(t.borderRadius,e.borderRadius,a,d,h),g=C(e.borderRadius,t.borderRadius,l,c,1-h);f(t.clone,v),f(e.clone,g);var b=t.cx+i*h,w=t.cy+r*h,R=T(t.isSvg,b,w,i,r,a,d,h)+" "+t.transform,x=T(e.isSvg,b,w,-i,-r,l,c,1-h)+" "+e.transform;t.isSvg?t.clone.setAttribute("transform",R):t.clone.style.transform=t.clone.style.webkitTransform=t.clone.style.msTransform=R,e.isSvg?e.clone.setAttribute("transform",x):e.clone.style.transform=e.clone.style.webkitTransform=e.clone.style.msTransform=x,S(o)}u(this,k);var i=e.cx-t.cx,r=e.cy-t.cy,a=e.width/t.width-1,d=e.height/t.height-1,l=t.width/e.width-1,c=t.height/e.height-1,m=Date.now(),y=n.duration||400,p=n.easing||s;o()},A=k,E=document.createElement("div"),_=!0,j=void 0,N=void 0,O=void 0,I=void 0,L=void 0,F=void 0,M=void 0,B=void 0,D=!window.ActiveXObject&&"ActiveXObject"in window;!D&&("transform"in E.style||"webkitTransform"in E.style)&&("animation"in E.style||"webkitAnimation"in E.style)?(_=!0,j="transform"in E.style?"transform":"-webkit-transform","animation"in E.style?(N="@keyframes",O="animationDirection",I="animationDuration",L="animationIterationCount",F="animationName",M="animationTimingFunction",B="animationend"):(N="@-webkit-keyframes",O="webkitAnimationDirection",I="webkitAnimationDuration",L="webkitAnimationIterationCount",F="webkitAnimationName",M="webkitAnimationTimingFunction",B="webkitAnimationEnd")):_=!1;var K=function(t,e,n){function o(){u&&f&&(t.clone.parentNode.removeChild(t.clone),e.clone.parentNode.removeChild(e.clone),n.done&&n.done(),c())}m(this,K);var i=p(t,e,n),r=i.fromKeyframes,a=i.toKeyframes,s="_"+~~(1e6*Math.random()),d="_"+~~(1e6*Math.random()),l=""+N+" "+s+" { "+r+" } "+N+" "+d+" { "+a+" }",c=y(l);t.clone.style[O]="alternate",t.clone.style[I]=""+n.duration/1e3+"s",t.clone.style[L]=1,t.clone.style[F]=s,t.clone.style[M]="linear",e.clone.style[O]="alternate",e.clone.style[I]=""+n.duration/1e3+"s",e.clone.style[L]=1,e.clone.style[F]=d,e.clone.style[M]="linear";var u=void 0,f=void 0;t.clone.addEventListener(B,function(){u=!0,o()}),e.clone.addEventListener(B,function(){f=!0,o()})},P=K,q={transform:function(e,o){var i=void 0===arguments[2]?{}:arguments[2];"function"==typeof i&&(i={done:i}),"duration"in i||(i.duration=400);var r=n(e),a=n(o);return(r.isSvg||a.isSvg&&!R)&&t(),!_||i.useTimer||r.isSvg||a.isSvg?new A(r,a,i):new P(r,a,i)},hide:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];e.forEach(o)},show:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];e.forEach(i)},linear:s,easeIn:d,easeOut:l,easeInOut:c};return q});
